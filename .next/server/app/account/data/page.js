(()=>{var e={};e.id=510,e.ids=[510],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},42922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),a(97393),a(41381),a(35866);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["account",{children:["data",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,97393)),"/Users/scroobz/Documents/Projects/NK/app/account/data/page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,4362))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,41381)),"/Users/scroobz/Documents/Projects/NK/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,4362))).default(e)],twitter:[],manifest:void 0}}],c=["/Users/scroobz/Documents/Projects/NK/app/account/data/page.tsx"],u="/account/data/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/account/data/page",pathname:"/account/data",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},89998:(e,t,a)=>{let r={"3fde3a24a853a7b9918376c70d599131c9bd7620":()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.SignOut),a65f755ac9dca40b577223cfa4b7ed4d0778de79:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.updatePassword),c8b94a55ee783ffb92b5d3be3b06325dcda2c28c:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.redirectToPath),c8fb0cb6630a631d4484f2603849ab0025787db1:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.updateEmail),cfe4e11143bdac7172dc96eb5c7ad771f2043c6b:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.updateName),dacf673069e2898a02eda2fdaee2592c5168ddaf:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.requestPasswordUpdate),f4b209b662c5670856e161770ddff41c161316c9:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.signUp),f77e5f91ca87ae2c63f003f932760741033feea7:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.signInWithPassword),fc8368f5a5e69e85b8d88aa28ee67f2e0586a538:()=>Promise.resolve().then(a.bind(a,4861)).then(e=>e.signInWithEmail)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"3fde3a24a853a7b9918376c70d599131c9bd7620":s.bind(null,"3fde3a24a853a7b9918376c70d599131c9bd7620"),a65f755ac9dca40b577223cfa4b7ed4d0778de79:s.bind(null,"a65f755ac9dca40b577223cfa4b7ed4d0778de79"),c8b94a55ee783ffb92b5d3be3b06325dcda2c28c:s.bind(null,"c8b94a55ee783ffb92b5d3be3b06325dcda2c28c"),c8fb0cb6630a631d4484f2603849ab0025787db1:s.bind(null,"c8fb0cb6630a631d4484f2603849ab0025787db1"),cfe4e11143bdac7172dc96eb5c7ad771f2043c6b:s.bind(null,"cfe4e11143bdac7172dc96eb5c7ad771f2043c6b"),dacf673069e2898a02eda2fdaee2592c5168ddaf:s.bind(null,"dacf673069e2898a02eda2fdaee2592c5168ddaf"),f4b209b662c5670856e161770ddff41c161316c9:s.bind(null,"f4b209b662c5670856e161770ddff41c161316c9"),f77e5f91ca87ae2c63f003f932760741033feea7:s.bind(null,"f77e5f91ca87ae2c63f003f932760741033feea7"),fc8368f5a5e69e85b8d88aa28ee67f2e0586a538:s.bind(null,"fc8368f5a5e69e85b8d88aa28ee67f2e0586a538")}},10175:(e,t,a)=>{Promise.resolve().then(a.bind(a,32002))},32002:(e,t,a)=>{"use strict";a.d(t,{AccountFormAsPage:()=>d,default:()=>l});var r=a(10326),s=a(17577),n=a(82782),i=a(54554),o=a(710);function l({user:e}){let t=(0,n.e)(),[a,l]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(""),[f,p]=(0,s.useState)(null),[b,x]=(0,s.useState)(void 0);async function g(){try{if(l(!0),f){let{id:e,...a}=f,{error:r}=await t.from("userdatas").update(a).eq("id",e);if(r)throw r}else{let{error:e}=await t.from("userdatas").insert({e_mail:b,memberid:u?parseInt(u):null,fanclub:"",nachname:"",vorname:"",adresse:"",plz:""}).single();if(e)throw e;let{data:a,error:r}=await t.from("userdatas").select("*").eq("e_mail",b).single();if(r)throw r;p(a||{}),m(a?.memberid?.toString()||"")}let{error:a}=await t.from("users").update({full_name:d,userdatas:f?.id||u?parseInt(u):null}).eq("id",e?.id);if(a)throw a;alert("Profile updated!")}catch(e){console.error("Error updating profile:",e.message),alert("Error updating profile!")}finally{l(!1)}}async function h(){try{l(!0);let{data:e,error:a}=await t.from("userdatas").select("memberid").order("memberid",{ascending:!1}).limit(1).single();if(a)throw a;let r=e?e.memberid+1:1,{error:s}=await t.from("userdatas").update({memberid:r}).eq("id",f?.id);if(s)throw s;m(r.toString()),alert("New Member ID generated!")}catch(e){console.error("Error generating member ID:",e.message),alert("Error generating member ID!")}finally{l(!1)}}(0,s.useCallback)(async()=>{try{if(l(!0),console.log("Fetching profile data for user ID:",e?.id),console.log("Fetching profile data for user email:",b),!b){console.warn("User email is undefined, cannot fetch userdatas");return}let{data:a,error:r,status:s}=await t.from("users").select("full_name, userdatas").eq("id",e?.id).single();if(r&&406!==s)throw console.error(r),r;if(a){if(c(a.full_name),a.userdatas){console.log("Userdatas ID found, fetching userdatas");let{data:r,error:s}=await t.from("userdatas").select("*").eq("id",a.userdatas).single();if(r)p(r),null!=r.memberid&&m(r.memberid.toString());else{console.warn("Userdatas ID is invalid, fetching userdatas by email:",b);let{data:a,error:r}=await t.from("userdatas").select("*").eq("e_mail",b).single();if(a){p(a);let{error:r}=await t.from("users").update({userdatas:a.id}).eq("id",e?.id);if(r)throw r;null!=a.memberid&&m(a.memberid.toString())}else console.warn("No matching email found in userdatas table"),p(null)}}else{console.log("No userdatas ID, fetching userdatas by email:",b);let{data:a,error:r}=await t.from("userdatas").select("*").eq("e_mail",b).single();if(a){p(a);let{error:r}=await t.from("users").update({userdatas:a.id}).eq("id",e?.id);if(r)throw r;null!=a.memberid&&m(a.memberid.toString())}else console.warn("No matching email found in userdatas table"),p(null)}}}catch(e){console.error("Error loading user data:",e.message),alert("Error loading user data!")}finally{l(!1)}},[e,b,t]);let y=e=>{let{name:t,value:a}=e.target;p(e=>({...e,[t]:a}))};return r.jsx(o.Z,{title:"Your Profile",footer:r.jsx(i.Z,{variant:"slim",onClick:g,disabled:a,loading:a,children:a?"Loading ...":"Update"}),children:r.jsx("div",{className:"form-widget space-y-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{id:"email",type:"text",value:e?.email,disabled:!0,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"fullname",className:"text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("input",{id:"fullname",name:"fullname",type:"text",value:d||"",onChange:e=>c(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"memberid",className:"text-sm font-medium text-gray-700",children:"Member ID"}),r.jsx("input",{id:"memberid",name:"memberid",type:"text",value:u,onChange:e=>m(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"}),r.jsx("button",{type:"button",onClick:h,className:"mt-2 px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700",children:"Generate Member ID"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"fanclub",className:"text-sm font-medium text-gray-700",children:"Fanclub"}),r.jsx("input",{id:"fanclub",name:"fanclub",type:"text",value:f?.fanclub||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"nachname",className:"text-sm font-medium text-gray-700",children:"Nachname"}),r.jsx("input",{id:"nachname",name:"nachname",type:"text",value:f?.nachname||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"vorname",className:"text-sm font-medium text-gray-700",children:"Vorname"}),r.jsx("input",{id:"vorname",name:"vorname",type:"text",value:f?.vorname||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"adresse",className:"text-sm font-medium text-gray-700",children:"Adresse"}),r.jsx("input",{id:"adresse",name:"adresse",type:"text",value:f?.adresse||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"plz",className:"text-sm font-medium text-gray-700",children:"PLZ"}),r.jsx("input",{id:"plz",name:"plz",type:"text",value:f?.plz||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("label",{htmlFor:"e_mail",className:"text-sm font-medium text-gray-700",children:"E-Mail"}),r.jsx("input",{id:"e_mail",name:"e_mail",type:"text",value:f?.e_mail||"",onChange:y,className:"mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-pink-500"})]})]})})})}async function d(){let e=(0,n.e)(),{data:{user:t}}=await e.auth.getUser();return r.jsx(l,{user:t})}},1118:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(10326),s=a(48029),n=a.n(s),i=a(17577),o=a(30467),l=a(26287),d=a.n(l);let c=()=>(0,r.jsxs)("span",{className:d().root,children:[r.jsx("span",{}),r.jsx("span",{}),r.jsx("span",{})]});var u=a(19875),m=a.n(u);let f=(0,i.forwardRef)((e,t)=>{let{className:a,variant:s="flat",children:l,active:d,width:u,loading:f=!1,disabled:p=!1,style:b={},Component:x="button",...g}=e,h=(0,i.useRef)(null),y=n()(m().root,{[m().slim]:"slim"===s,[m().loading]:f,[m().disabled]:p},a);return(0,r.jsxs)(x,{"aria-pressed":d,"data-variant":s,ref:(0,o.l)([h,t]),className:y,disabled:p,style:{width:u,...b},...g,children:[l,f&&r.jsx("i",{className:"flex pl-2 m-0",children:r.jsx(c,{})})]})});f.displayName="Button";let p=f},54554:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r.default});var r=a(1118)},710:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(10326);function s({title:e,description:t,footer:a,children:s}){return(0,r.jsxs)("div",{className:"w-full max-w-3xl m-auto my-8 border rounded-md p border-zinc-700",children:[(0,r.jsxs)("div",{className:"px-5 py-4",children:[r.jsx("h3",{className:"mb-1 text-2xl font-medium",children:e}),r.jsx("p",{className:"text-zinc-300",children:t}),s]}),a&&r.jsx("div",{className:"p-4 border-t rounded-b-md border-zinc-700 bg-zinc-900 text-zinc-500",children:a})]})}},19875:e=>{e.exports={root:"Button_root__3fIL8",loading:"Button_loading__R7Yd5",slim:"Button_slim__eaYER",disabled:"Button_disabled__wUorh"}},26287:e=>{e.exports={root:"LoadingDots_root__8o4w0",blink:"LoadingDots_blink__iunUN"}},97393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(19510),s=a(39950),n=a(1804);async function i(){let e=(0,n.e)(),{data:{user:t}}=await e.auth.getUser();return r.jsx(s.ZP,{user:t})}},39950:(e,t,a)=>{"use strict";a.d(t,{PZ:()=>l,ZP:()=>o});var r=a(68570);let s=(0,r.createProxy)(String.raw`/Users/scroobz/Documents/Projects/NK/app/account/data/userData.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let o=(0,r.createProxy)(String.raw`/Users/scroobz/Documents/Projects/NK/app/account/data/userData.tsx#default`),l=(0,r.createProxy)(String.raw`/Users/scroobz/Documents/Projects/NK/app/account/data/userData.tsx#AccountFormAsPage`)},4362:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(66621);let s=e=>[{type:"image/png",width:1686,height:882,url:(0,r.fillMetadataSegment)(".",e.params,"opengraph-image.png")+"?e0f750afbc5827b5"}]},48029:(e,t)=>{var a;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)r.call(e,a)&&e[a]&&(t=n(t,a));return t}(a)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0!==(a=(function(){return s}).apply(t,[]))&&(e.exports=a)}()},30467:(e,t,a)=>{"use strict";function r(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}a.d(t,{l:()=>r})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,35,621,92],()=>a(42922));module.exports=r})();